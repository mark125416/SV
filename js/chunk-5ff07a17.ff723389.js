(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ff07a17"],{3073:function(e,t,n){},"30a6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:e.$t("PCB条码绑定"),msgs:"true",showMsg:e.showMsg,showSetting:"true",showSettingF:"true"}},[n("ScanInput",{directives:[{name:"show",rawName:"v-show",value:e.isShowScan,expression:"isShowScan"}],attrs:{label:e.$t("条码")},on:{submit:e.m_scanner_OnScannerReaded}}),n("van-stepper",{staticStyle:{"margin-left":"5px"},model:{value:e.pinNum,callback:function(t){e.pinNum=t},expression:"pinNum"}}),n("InputCell",{attrs:{title:e.$t("条码"),value:e.barcode},on:{"update:value":function(t){e.barcode=t}}}),n("el-table",{attrs:{data:e.barcodes,"highlight-current-row":"",size:"mini"}},[n("el-table-column",{attrs:{prop:"code",label:e.$t("元料料号")}}),n("el-table-column",{attrs:{label:e.$t("操作"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.barcodes)}}},[e._v(" 移除 ")])]}}])})],1),n("van-button",{staticClass:"BtnButton",attrs:{type:"info"},on:{click:function(t){return e.submit()}}},[e._v(e._s(e.$t("确认")))])],1)},r=[],s=(n("3cb3"),n("ec76"),n("6a61"),n("2e91")),u=(n("6cb2"),n("16c2")),o=(n("4582"),n("e90e")),c=(n("4910"),n("b3da")),i=(n("6141"),n("bb16")),l=n("a593"),d=n("9973"),f=n("6168"),p=n("b7bd"),b=n("1c01"),h=n("4800");l["default"].use(i["a"]),l["default"].use(c["a"]),l["default"].use(o["a"]),l["default"].use(u["a"]);var m={components:{Page:d["a"],ScanInput:f["a"],InputCell:p["a"]},data:function(){return{showMsg:"",isShowScan:!1,pinNum:2,barcodes:[],barcode:""}},watch:{showMsg:function(e,t){console.log("o:"+t,"n:"+e)},immediate:!0},methods:{showMessage:function(e){this.showMsg=e},deleteRow:function(e,t){t.splice(e,1)},m_scanner_OnScannerReaded:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(e=e.trim(),!(t.barcodes.length>=t.pinNum)){n.next=6;break}return t.showMessage(t.$t("条码数量已达到拼版数")),n.abrupt("return");case 6:if(!h.from(t.barcodes).any((function(t){return t.code==e}))){n.next=9;break}return t.showMessage(t.$t("此条码已扫描")),n.abrupt("return");case 9:if(!h.from(t.barcodes).any((function(t){return t.code.length!=e.length}))){n.next=12;break}return t.showMessage(t.$t("条码长度错误")),n.abrupt("return");case 12:t.barcode=e,t.barcodes.push({code:e}),t.showMessage(t.$t("扫描到条码：")+t.barcode),t.barcodes.length==t.pinNum&&t.submit();case 16:case"end":return n.stop()}}),n)})))()},submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.barcodes.length==e.pinNum){t.next=3;break}return e.showMessage(e.$t("条码数量拼版与拼版数不相等")),t.abrupt("return");case 3:return t.next=5,b["a"](h.from(e.barcodes).select((function(e){return e.code})).toArray());case 5:n=t.sent,n&&(e.showMessage(e.$t("绑定成功")),e.barcodes=[],e.barcode="");case 7:case"end":return t.stop()}}),t)})))()}}},w=m,v=n("5d22"),g=Object(v["a"])(w,a,r,!1,null,null,null);t["default"]=g.exports},"54ca":function(e,t,n){"use strict";n("3073")},b7bd:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-cell",{staticClass:"cellAll",scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[e._v(e._s(e.title))]),n("van-field",{staticClass:"filed",attrs:{autosize:"",type:e.type,clearable:""},on:{input:e.onInput,focus:e.fieldFocus,blur:e.fieldBlur},scopedSlots:e._u([{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"scan",size:"20",color:"#4284f4"}})]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]},proxy:!0}])})},r=[],s={props:{title:{type:String,require:!1,default:"标题"},value:{require:!1,default:""},type:{type:String,require:!1,default:"textarea"}},methods:{onInput:function(e){this.value=e,this.$emit("update:value",e)},GetVal:function(){return this.value},fieldBlur:function(){window.scroll(0,this.FoucusS),window.onresize=function(){}},fieldFocus:function(){this.FoucusS=document.documentElement.scrollTop-40,window.onresize=function(){return function(){var e=document.body.clientHeight;window.scroll(0,e)}()}}}},u=s,o=(n("54ca"),n("5d22")),c=Object(o["a"])(u,a,r,!1,null,null,null);t["a"]=c.exports}}]);