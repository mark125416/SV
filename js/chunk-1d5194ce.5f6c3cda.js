(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5194ce"],{"1bfb":function(e,t,n){"use strict";n("2466")},2466:function(e,t,n){},3073:function(e,t,n){},3753:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("ec46"),n("4507"),n("1475"),n("bc4a"),n("4460"),n("960e");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var a=function e(t,n,a){if(null==t)return"";var i="",r=s(t);if("string"==r||"number"==r||"boolean"==r)i+="&"+n+"="+(null==a||a?encodeURIComponent(t):t);else for(var o in t){var u=null==n?o:n+(t instanceof Array?"["+o+"]":"."+o);i+=e(t[o],u,a)}return i};function i(e,t){return t&&(e+="?"+a(t)),e}},"382f":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:e.$t("发料任务")}},[e.active==e.div1?n("div",[n("div",{staticClass:"topDiv"},[e._v(e._s(e.$t("选择产线")))]),n("div",e._l(e.LineList,(function(t,s){return n("div",{key:s,class:s==e.BeClickLine?"divLineBeClick":"divLine",on:{click:function(t){return e.LineClick(s)}}},[e._v(e._s(t.LineName))])})),0)]):e._e(),e.active==e.div2?n("div",[n("div",{staticClass:"topDiv"},[e._v(e._s(e.$t("选择任务")))]),e._l(e.TaskList,(function(t,s){return n("div",{key:s,class:[s==e.BeClickTask?"divLineBeClick":"divLine",s==e.BeClickTask?"":t.backColor],on:{click:function(t){return e.TaskClick(s)}}},[n("p",{staticClass:"alineL"},[e._v(e._s(t.RequirementCode))]),n("p",{staticClass:"alineL"},[e._v(e._s(t.Lot))]),n("p",{staticClass:"alineL"},[e._v(e._s(t.CreatedTime))]),n("p",{staticClass:"alineL"},[e._v(e._s(t.StatusName))])])}))],2):e._e(),e.active==e.div3||3==e.active?n("div",[n("div",{ref:"topdiv",staticClass:"topDiv"},[e._v(" "+e._s(e.$t("任务编号"))+"："+e._s(e.TaskNum)+" "),n("br"),e._v(" "+e._s(e.$t("生产批次"))+"："+e._s(e.BathcNum)+" "),n("br"),e._v(" "+e._s(0==e.div3div?e.$t("选择仓库"):e.$t("仓库")+": "+e.HouseNum)+" ")]),0==e.div3div?n("div",e._l(e.HouseList,(function(t,s){return n("div",{key:s,class:[s==e.BeClickHouse?"divLineBeClick":"divLine",s==e.BeClickHouse?"":t.backColor],on:{click:function(t){return e.HouseClick(s)}}},[n("p",{staticClass:"alineL"},[e._v(e._s(t.WarehouseName))]),n("p",{staticClass:"alineL"},[e._v(e._s(t.FinishedQty)+"/"+e._s(t.DemondQty))]),n("p",{staticClass:"alineL"},[e._v(e._s(t.StatusName))])])})),0):e._e(),n("ScanInput",{directives:[{name:"show",rawName:"v-show",value:e.isShowScan,expression:"isShowScan"}],attrs:{label:e.$t("扫描条码")},on:{submit:e.m_scanner_OnScannerReaded}}),1==e.div3div?n("div",{staticClass:"tabBoxClass",style:e.tabBoxStyle},[n("van-tabs",{staticClass:"TabHeight",attrs:{color:"#4284f4"},on:{click:e.pickupTabsChange},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("van-tab",{attrs:{title:e.$t("操作")}},[n("MessageBox",{ref:"messageBox",staticClass:"lonelyMeg"}),n("div",{staticClass:"div-sticky-after-Mes"},[n("van-cell",{scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[e._v(e._s(e.$t("物料编号")))]),n("div",{staticClass:"custom-detail"},[e._v(e._s(e.materialNum))])]},proxy:!0},{key:"right-icon",fn:function(){return[n("div",{staticClass:"OpDetail"},[e._v(" [ "),n("span",{staticStyle:{color:"#4284f4"}},[e._v(e._s(e.nowOp))]),e._v(" /"+e._s(e.allOp)+" ] ")])]},proxy:!0}],null,!1,4279405763)}),n("van-cell",{staticClass:"cellAll",scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[e._v(e._s(e.$t("标包数量"))+":"+e._s(e.PackageQuantity))]),n("div",{staticClass:"custom-title"},[e._v(e._s(e.$t("工站"))+":"+e._s(e.StationName))])]},proxy:!0}],null,!1,1537607492)}),n("van-cell",{staticClass:"cellAll",scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[e._v(e._s(e.$t("库位号")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.WareHouseLocation,expression:"WareHouseLocation"}],staticClass:"filed",domProps:{value:e.WareHouseLocation},on:{input:function(t){t.target.composing||(e.WareHouseLocation=t.target.value)}}})]},proxy:!0}],null,!1,843908986)}),n("InputCell",{attrs:{title:e.$t("物料条码"),value:e.materialCode},on:{"update:value":function(t){e.materialCode=t}}}),n("van-cell",{staticClass:"cellAll",scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[e._v(e._s(e.$t("操作记录"))+":"+e._s(e.operatorLog))])]},proxy:!0}],null,!1,254429810)})],1)],1),n("van-tab",{attrs:{title:e.$t("记录")}},[n("el-table",{ref:"table1",attrs:{size:"mini",data:e.PartRequirements,"highlight-current-row":"",height:"75vh"}},[n("el-table-column",{attrs:{prop:"PartNumber",label:e.$t("物料号"),"min-width":"20%"}}),n("el-table-column",{attrs:{prop:"StationName",label:e.$t("工站"),"min-width":"20%"}}),n("el-table-column",{attrs:{prop:"OnlneLocation",label:e.$t("位置"),"min-width":"20%"}}),n("el-table-column",{attrs:{prop:"ReelId",label:e.$t("条码"),"min-width":"20%"}}),n("el-table-column",{attrs:{prop:"FinishedMaterialQuantity",label:e.$t("数量"),"min-width":"20%"}})],1)],1)],1)],1):e._e(),2==e.div3div?n("div",{staticClass:"tabBoxClass",style:e.tabBoxStyle},[n("MessageBox",{ref:"messageBox2",staticClass:"lonelyMeg"}),n("InputCell",{attrs:{title:e.$t("物料条码"),value:e.lackMaterialCode},on:{"update:value":function(t){e.lackMaterialCode=t}}}),n("el-table",{attrs:{size:"mini",data:e.lackRequirements,"highlight-current-row":"",height:"50vh"}},[n("el-table-column",{attrs:{prop:"PartNumber",label:e.$t("物料号"),"min-width":"30%"}}),n("el-table-column",{attrs:{prop:"ReelId",label:e.$t("条码"),"min-width":"25%"}}),n("el-table-column",{attrs:{prop:"OnlneLocation",label:e.$t("位置"),"min-width":"23%"}}),n("el-table-column",{attrs:{prop:"FinishedMaterialQuantity",label:e.$t("数量"),"min-width":"20%"}})],1),n("van-button",{staticClass:"BtnButton",staticStyle:{width:"80vw",left:"10vw"},attrs:{type:"info"},on:{click:e.btnReturn_Click}},[e._v(e._s(e.$t("返回")))])],1):e._e()],1):e._e(),n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.showButton&&0!=e.active,expression:"showButton && active != 0"}],staticClass:"BtnButton",staticStyle:{left:"5vw"},style:{width:3==e.active?"40vw":"90vw"},attrs:{type:"info"},on:{click:e.btnReturn_Click}},[e._v(e._s(e.$t("返回")))]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.showButton&&3==e.active,expression:"showButton && active == 3"}],staticClass:"BtnButton",staticStyle:{width:"40vw",left:"54vw"},attrs:{type:"info"},on:{click:function(t){return e.btnNext_Click()}}},[e._v(e._s(e.$t("下一个")))])],1)},a=[],i=(n("af60"),n("8601"),n("7d72"),n("c12e"),n("48d1"),n("85a2"),n("dbc0"),n("d697")),r=(n("6a61"),n("2e91")),o=n("9973"),u=n("521f"),c=n("6168"),l=n("c9c2"),d=n("1c01"),h=n("b7bd"),f=n("4800"),v={components:{Page:o["a"],MessageBox:u["a"],ScanInput:c["a"],InputCell:h["a"]},data:function(){return{barcode:"",lot:"",rewrite:!1,ListViewItem:null,active:0,activeTab:0,WareHouseLocation:"",div1:0,div2:1,div3:2,div3div:0,BeClickLine:-1,BeClickTask:-1,BeClickHouse:-1,materialNum:"",PackageQuantity:"0",StationName:"",nowOp:0,allOp:0,LineNum:"",CurrentLine:null,TaskNum:"",CurrentTask:null,BathcNum:"",HouseNum:"",CurrentHouse:null,LineList:[],TaskList:[],HouseList:[],PartRequirements:[],lackRequirements:[],ListLog:[],TaskIndex:0,currentPartRequirement:null,showButton:!0,operatorLog:"",isShowScan:!1,materialCode:"",lackMaterialCode:"",tabBoxStyle:""}},methods:{refreshQuantity:function(){var e=f.from(this.PartRequirements).sum((function(e){return e.DemandQuantity})),t=f.from(this.PartRequirements).sum((function(e){return e.FinishedQuantity+e.LackQuantity}));this.operatorLog="".concat(t,"/").concat(e)},pickupTabsChange:function(e){var t=this;this.showButton=0==e,1==e&&setTimeout((function(){t.$refs.table1.doLayout()}),100)},m_scanner_OnScannerReaded:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,1!=t.div3div){n.next=16;break}if(!(t.TaskIndex>=t.PartRequirements.length)){n.next=5;break}return t.showMessage(t.$t("此任务已完成")),n.abrupt("return");case 5:return t.showMessage(t.$t("扫描到条码：")+e),t.materialCode=e,t.currentPartRequirement=t.PartRequirements[t.TaskIndex],t.$loading(),n.next=11,d["o"](t.currentPartRequirement.Id,e);case 11:s=n.sent,t.$clrLoading(),s&&s.ReelId?(t.PartRequirements[t.TaskIndex].ReelId=s.ReelId,t.PartRequirements[t.TaskIndex].FinishedMaterialQuantity=s.FinishedMaterialQuantity,t.PartRequirements[t.TaskIndex].FinishedQuantity=s.FinishedQuantity,t.PartRequirements[t.TaskIndex].LackQuantity=s.LackQuantity,t.PartRequirements[t.TaskIndex].DemandQuantity=s.DemandQuantity,t.showMessage(t.$t("Location:")+t.PartRequirements[t.TaskIndex].OnlneLocation),t.showMessage(t.$t("ReelID:")+f.from(s.ReelId.split(";")).last()+","+t.$t("操作成功")+" "+t.$t("位置")+":"+t.PartRequirements[t.TaskIndex].OnlneLocation),t.nowOp<t.allOp?t.nowOp++:t.TaskIndex++,t.refreshQuantity(),t.materialCode="",t.nextTask()):t.materialCode="",n.next=24;break;case 16:if(2!=t.div3div){n.next=24;break}return t.showMessage(t.$t("扫描到条码：")+e),t.$loading(),n.next=21,d["n"](t.CurrentTask.Id,e);case 21:if(a=n.sent,t.$clrLoading(),a&&a.ReelId){for(i=0;i<t.lackRequirements;i++)t.lackRequirements[i].Id==a.Id&&(t.lackRequirements[i]=a);t.lackMaterialCode="",t.showMessage(t.$t("ReelID:")+a.ReelId+t.$t("操作成功")),t.nextTask()}else t.lackMaterialCode="";case 24:n.next=29;break;case 26:n.prev=26,n.t0=n["catch"](0),t.showMessage(n.t0);case 29:return n.prev=29,t.$clrLoading(),n.finish(29);case 32:case"end":return n.stop()}}),n,null,[[0,26,29,32]])})))()},showMessage:function(e){this.$refs.messageBox&&1==this.div3div?this.$refs.messageBox.showMessage(e):this.$refs.messageBox2&&2==this.div3div?this.$refs.messageBox2.showMessage(e):Object(i["a"])(e)},LineClick:function(e){this.BeClickLine=e,this.LineNum=this.LineList[e].LineName,this.CurrentLine=this.LineList[e],this.btnNext_Click()},TaskClick:function(e){this.BeClickTask=e,this.TaskNum=this.TaskList[e].RequirementCode,this.BathcNum=this.TaskList[e].Lot,this.CurrentTask=this.TaskList[e],this.btnNext_Click()},HouseClick:function(e){this.BeClickHouse=e,this.HouseNum=this.HouseList[e].WarehouseName,this.CurrentHouse=this.HouseList[e],this.btnNext_Click()},nextTask:function(){var e=this.PartRequirements[this.TaskIndex];return e?e.FinishedQuantity>=e.DemandQuantity?(this.TaskIndex++,this.TaskIndex==this.PartRequirements.length?void this.showMessage(this.$t("此任务已完成")):(this.nowOp=1,void this.nextTask())):(this.materialNum=e.PartNumber,this.showMessage(this.$t("物料编号：")+e.PartNumber),this.allOp=e.DemandQuantity,this.PackageQuantity=e.PackageQuantity,this.StationName=(e.EquipmentName?e.EquipmentName:e.StationName)+" / "+e.OnlneLocation,e.WareHouseLocation?this.WareHouseLocation=e.WareHouseLocation:this.WareHouseLocation=this.$t("缺料"),void this.PartRequirements[this.TaskIndex]):(this.showMessage(this.$t("此任务已完成")),this.WareHouseLocation="",this.materialCode="",this.materialNum="",void(this.StationName=""))},LoadTask:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.TaskList=[],e.$loading(),t.next=4,d["l"](e.CurrentLine.Id,{});case 4:for(n=t.sent,e.$clrLoading(),n&&n.Items&&n.Items.length>0&&(n=f.from(n.Items).orderBy((function(e){return e.ORDER_BY})).toArray()),s=0;s<n.length;s++)2==n[s].Status?n[s].backColor="started":n[s].backColor="";e.TaskList=n;case 9:case"end":return t.stop()}}),t)})))()},LoadTaskDetail:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.HouseList=[],e.$loading(),t.next=4,d["b"]({PM_PartRequirementSummaryId:e.CurrentTask.Id});case 4:for(n=t.sent,s=0;s<n.length;s++)2==n[s].Status?n[s].backColor="started":3==n[s].Status?n[s].backColor="green":n[s].backColor="";return t.next=8,d["k"]({SummaryId:e.CurrentTask.Id,IsLack:!0});case 8:a=t.sent,a&&a.Items&&a.Items.length>0&&(e.lackRequirements=a.Items,n.push({WarehouseName:e.$t("缺料"),FinishedQty:0,DemondQty:0,StatusName:f.from(a.Items).sum((function(e){return e.LackQuantity})),backColor:"warning"})),e.$clrLoading(),e.HouseList=n;case 12:case"end":return t.stop()}}),t)})))()},btnNext_Click:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,0!=e.active){t.next=9;break}if(""!=e.LineNum){t.next=6;break}Object(i["a"])(e.$t("请选择产线")),t.next=9;break;case 6:return e.active=1,e.LoadTask(),t.abrupt("return");case 9:if(1!=e.active){t.next=17;break}if(""!=e.TaskNum){t.next=14;break}Object(i["a"])(e.$t("请选择任务")),t.next=17;break;case 14:return e.active=2,e.LoadTaskDetail(),t.abrupt("return");case 17:if(2!=e.active){t.next=51;break}if(""!=e.HouseNum){t.next=22;break}Object(i["a"])(e.$t("请选择仓库")),t.next=49;break;case 22:if(e.active=3,n=Number(e.$refs.topdiv.offsetHeight)+46+54,e.tabBoxStyle="height:calc(100vh - ".concat(n,"px);"),console.log(e.tabBoxStyle),s=e,e.HouseNum!=e.$t("缺料")){t.next=33;break}e.div3div=2,e.showButton=!1,setTimeout((function(){window._currentMessageBox=s.$refs.messageBox2}),500),t.next=49;break;case 33:return e.div3div=1,setTimeout((function(){window._currentMessageBox=s.$refs.messageBox}),500),e.showButton=!0,e.$loading(),t.next=39,d["k"]({SummaryId:e.CurrentTask.Id,GetWareHouse:!0,WarehouseId:e.CurrentHouse.FAC_WareHouseId,IsLack:!1});case 39:if(a=t.sent,e.$clrLoading(),a&&(e.PartRequirements=f.from(a.Items).where((function(e){return null!=e.WareHouseLocation})).orderBy((function(e){return e.OrderBy})).toArray(),r=e,f.from(a.Items).where((function(e){return null==e.WareHouseLocation})).orderBy((function(e){return e.OrderBy})).forEach((function(e){return r.PartRequirements.push(e)}))),null!=e.PartRequirements&&0!=e.PartRequirements.length){t.next=45;break}return Object(i["a"])(e.$t("没有找到叫料任务清单")),t.abrupt("return");case 45:return e.refreshQuantity(),e.TaskIndex=0,e.nextTask(),t.abrupt("return");case 49:t.next=52;break;case 51:3==e.active&&(e.refreshQuantity(),e.TaskIndex++,e.nextTask());case 52:t.next=57;break;case 54:t.prev=54,t.t0=t["catch"](0),alert(t.t0);case 57:return t.prev=57,e.$clrLoading(),t.finish(57);case 60:case"end":return t.stop()}}),t,null,[[0,54,57,60]])})))()},btnReturn_Click:function(){0!=this.active&&(3!=this.active||1!=this.div3div&&2!=this.div3div?(this.active--,this.active==this.div2&&this.LoadTask()):(this.showButton=!0,this.active=2,this.div3div=0,this.LoadTaskDetail()))}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.con1=e.$refs.con1,e.con2=e.$refs.con2,e.con3=e.$refs.con3,e.$loading(),t.next=6,l["b"]({Line_Type:3});case 6:n=t.sent,e.$clrLoading(),n&&n.Items&&n.Items.length>0&&(n=f.from(n.Items).orderBy((function(e){return e.ORDER_BY})).toArray()),e.LineList=n;case 10:case"end":return t.stop()}}),t)})))()}},m=v,p=(n("7926"),n("5d22")),g=Object(p["a"])(m,s,a,!1,null,null,null);t["default"]=g.exports},"3d62":function(e,t,n){},"51b1":function(e,t,n){},"521f":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messages,expression:"messages"}],ref:"messageBox",staticClass:"lonelyMeg",attrs:{rows:"11",readonly:""},domProps:{value:e.messages},on:{input:function(t){t.target.composing||(e.messages=t.target.value)}}})},a=[],i=(n("425f"),{props:{showMsg:{type:String,require:!1,default:""}},data:function(){return{messages:"",count:0}},methods:{showMessage:function(e){if(null!=e&&""!=e&&void 0!=e){this.count>=50?(this.messages=" "+e+"\r\n",this.count=1):this.messages+=" "+e+"\r\n";var t=this;setTimeout((function(){t.$refs.messageBox.scrollTop=t.$refs.messageBox.scrollHeight})),this.count++}}},mounted:function(){var e="User: "+JSON.parse(localStorage.getItem("profile")).name;this.showMessage(e)},updated:function(){}}),r=i,o=n("5d22"),u=Object(o["a"])(r,s,a,!1,null,null,null);t["a"]=u.exports},"54ca":function(e,t,n){"use strict";n("3073")},6168:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ScanInputbox"},[n("span",{staticClass:"lable"},[e._v(e._s(e.label))]),n("van-field",{ref:"input",staticClass:"scan-input",attrs:{value:e.value_val,"right-icon":"scan",clearable:"",readonly:!e.keyboard_val},on:{"click-right-icon":e.onSwitch,input:e.onInput,blur:e.fieldBlur,focus:e.fieldFocus}})],1)},a=[],i={props:{label:{type:String,require:!0,default:"标题"},value:{type:String,require:!0,default:""},keyboard:{type:Boolean,require:!0,default:!1},submit:{type:Function,require:!0},change:{type:Function,require:!1}},watch:{keyboard:function(e){this.keyboard_val=e},value:function(e){this.value_val=e}},data:function(){return{keyboard_val:this.keyboard,value_val:"",FoucusS:"",finished:!1}},mounted:function(){this.value_val=this.value,window.document.addEventListener("keydown",this.onKeyDown)},destroyed:function(){window.document.removeEventListener("keydown",this.onKeyDown)},methods:{onInput:function(e){this.value_val=e,this.$emit("change",e)},clearInput:function(){this.value_val=""},onKeyDown:function(e){var t=this,n=e||window.event,s=window.document.activeElement;if("Enter"==n.key){if("INPUT"!=s.tagName&&"TEXTAREA"!=s.tagName||this.keyboard_val)return n.preventDefault(),this.finished=!0,setTimeout((function(){t.$emit("submit",t.value_val)}),200),!1}else"INPUT"!=s.tagName&&"TEXTAREA"!=s.tagName&&1===n.key.length&&(this.finished&&(this.finished=!1,this.value_val=""),this.value_val+=n.key)},onSwitch:function(){var e=this;this.keyboard_val=!this.keyboard_val,setTimeout((function(){e.keyboard_val?e.$refs.input.focus():e.$refs.input.blur()}),200)},fieldBlur:function(){window.scroll(0,this.FoucusS),window.onresize=function(){}},fieldFocus:function(){this.FoucusS=document.documentElement.scrollTop-40,window.onresize=function(){return function(){var e=document.body.clientHeight;window.scroll(0,e)}()}}}},r=i,o=(n("1bfb"),n("5d22")),u=Object(o["a"])(r,s,a,!1,null,null,null);t["a"]=u.exports},7926:function(e,t,n){"use strict";n("51b1")},9973:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",class:"true"==e.msgs?"page-view":"page-viewN",attrs:{id:"page"}},[n("van-sticky",{attrs:{container:e.container,"offset-top":e.offsetTop}},[n("div",{staticClass:"navBox"},[n("van-nav-bar",{class:"true"==e.msgs?"navBarBox":"navBarBoxN",attrs:{title:e.title,id:"navBarBox"},on:{"click-left":e.onBack},scopedSlots:e._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"arrow-left",size:"18",color:"true"==e.msgs?"#fff":"#000000"}}),n("span",{class:"true"==e.msgs?"navBarLefttitle":"navBarLefttitleN"},[e._v(e._s(e.$t("返回")))])]},proxy:!0},"true"===e.showPrinter||"true"===e.showSetting?{key:"right",fn:function(){return["true"==e.showPrinter?n("img",{attrs:{src:e.PringterImg,width:"20"},on:{click:e.ToPrinter}}):e._e(),"true"==e.showSettingF?n("van-icon",{attrs:{name:"setting-o",size:"20",color:"white"},on:{click:e.SetUpFF}}):e._e(),"true"==e.showSettingT?n("van-icon",{attrs:{name:"setting-o",size:"20",color:"white"},on:{click:e.SetUpTT}}):e._e()]},proxy:!0}:null],null,!0)}),"true"==e.msgs?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messages,expression:"messages"}],ref:"messageBox",staticClass:"message-box",attrs:{rows:"11",readonly:""},domProps:{value:e.messages},on:{input:function(t){t.target.composing||(e.messages=t.target.value)}}}):e._e()],1)]),e._t("default"),n("van-overlay",{attrs:{show:e.printerConfig},on:{click:function(t){e.printerConfig=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"addressBox",attrs:{id:"addressBox"}},[n("h2",[e._v(e._s(e.$t("打印机配置")))]),n("div",[n("p",[e._v("IP Address")]),n("div",{staticClass:"address"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.address01,expression:"address01"}],domProps:{value:e.address01},on:{keyup:e.address01cahnge,input:function(t){t.target.composing||(e.address01=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address02,expression:"address02"}],ref:"address02",domProps:{value:e.address02},on:{keyup:e.address02cahnge,input:function(t){t.target.composing||(e.address02=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address03,expression:"address03"}],ref:"address03",domProps:{value:e.address03},on:{keyup:e.address03cahnge,input:function(t){t.target.composing||(e.address03=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address04,expression:"address04"}],ref:"address04",domProps:{value:e.address04},on:{keyup:e.address04cahnge,input:function(t){t.target.composing||(e.address04=t.target.value)}}})])]),n("van-button",{attrs:{type:"info"},on:{click:e.saveaddress}},[e._v(e._s(e.$t("保存")))])],1)])]),n("van-overlay",{attrs:{show:e.SetUpF},on:{click:function(t){e.SetUpF=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"addressBox",attrs:{id:"addressBox"}},[n("h2",[e._v(e._s(e.$t("设置")))]),n("div",[n("p",[e._v(e._s(e.$t("选择仓库")))]),n("div",{staticClass:"address"},e._l(e.houseList,(function(t,s){return n("div",{key:s,class:e.BeClickHouseIndex==s?"houseBeClick":"house",on:{click:function(t){return e.houseChoose(s)}}},[e._v(e._s(t.WarehouseName))])})),0)]),n("van-button",{attrs:{type:"info"},on:{click:e.Selectwarehouse}},[e._v(e._s(e.$t("保存")))])],1)])]),n("van-overlay",{attrs:{show:e.SetUpT},on:{click:function(t){e.SetUpT=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"addressBox",attrs:{id:"addressBox"}},[n("h2",[e._v(e._s(e.$t("设置")))]),n("div",[n("p",[e._v(e._s(e.$t("提交WMS")))]),n("div",{staticClass:"address"},[n("div",{class:0==e.BeClickWMSIndex?"WMSBeClick":"WMS",on:{click:function(t){return e.SMTWMSChoose(0)}}},[e._v(e._s(e.$t("是")))]),n("div",{class:1==e.BeClickWMSIndex?"WMSBeClick":"WMS",on:{click:function(t){return e.SMTWMSChoose(1)}}},[e._v(e._s(e.$t("否")))])])]),n("van-button",{attrs:{type:"info"},on:{click:e.SelectWMS}},[e._v(e._s(e.$t("保存")))])],1)])])],2)},a=[],i=(n("af60"),n("425f"),n("c12e"),n("48d1"),n("6a61"),n("2e91")),r=n("d211"),o=n("cf6b"),u=n("c9c2"),c={components:{},props:{title:{type:String,require:!1,default:"标题"},clearIcon:{type:Boolean,require:!1,default:!0},rightText:{type:String,require:!1,default:""},rightClick:{type:Function,require:!1},leftText:{type:String,require:!1,default:"返回"},leftClick:{type:Function,require:!1},clearClick:{type:Function,require:!1},notice:{type:Boolean,require:!1,default:!0},msgs:{type:String,require:!0,default:""},showMsg:{type:String,require:!0,default:""},showPrinter:{type:String,require:!1,default:"false"},showSetting:{type:String,require:!1,default:"false"},showSettingF:{type:String,require:!1,default:"false"},showSettingT:{type:String,require:!1,default:"false"},WMSType:{type:String,require:!1,default:""}},data:function(){return{active:1,BeMsg:"",PringterImg:n("d8e0"),printerConfig:!1,SetUpF:!1,SetUpT:!1,address01:"",address02:"",address03:"",address04:"",container:null,offsetTop:0,houseList:[],BeClickHouse:"",BeClickHouseIndex:-1,BeClickWMS:"",BeClickWMSIndex:-1,messages:"",count:0}},computed:Object(r["a"])({},Object(o["d"])(["error"])),methods:{ToPrinter:function(){this.$router.push({name:"printer"})},SMTWMSChoose:function(e){this.BeClickWMSIndex=e,this.BeClickWMS=1!=e},SelectWMS:function(){console.log(this.WMSType),this.SetUpT=!1,localStorage.setItem("".concat(this.WMSType,"-WMS"),this.BeClickWMS)},houseChoose:function(e){this.BeClickHouseIndex=e,this.BeClickHouse=this.houseList[e].WarehouseName},Selectwarehouse:function(){this.SetUpF=!1,sessionStorage.setItem("CurrentWarehouseId",this.houseList[this.BeClickHouseIndex].Id)},SetUpFF:function(){this.SetUpF=!0},SetUpTT:function(){this.SetUpT=!0},onBack:function(e){"返回"===this.leftText?this.$router.back():this.$emit("leftClick",e)},onShowErrors:function(){this.$router.push("/errors?"+window.location.href.split("#")[1].substring(1))},onRightClick:function(e){this.$emit("rightClick",e)},onNoticeClick:function(){this.$router.push("/errors?"+window.location.href.split("#")[1].substring(1))},onClearClick:function(e){this.$emit("clearClick",e)},showMessage:function(e){if(null!=e&&""!=e&&void 0!=e){this.count>=50?(this.messages=e+"\r\n",this.count=1):this.messages+=e+"\r\n";var t=this;setTimeout((function(){t.$refs.messageBox&&(t.$refs.messageBox.scrollTop=t.$refs.messageBox.scrollHeight)})),this.count++}},saveaddress:function(){var e="".concat(this.address01,".").concat(this.address02,".").concat(this.address03,".").concat(this.address04);console.log(e),this.printerConfig=!1},address01cahnge:function(e){this.address01.length>=3?this.$refs.address02.focus():this.address01=e.target.value},address02cahnge:function(e){this.address02.length>=3?this.$refs.address03.focus():this.address02=e.target.value},address03cahnge:function(e){this.address03.length>=3?this.$refs.address04.focus():this.address03=e.target.value},address04cahnge:function(e){this.address04.length>=3?this.$refs.address04.blur():this.address04=e.target.value},LoadWarehouse:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["e"]({WarehouseType:2});case 2:n=t.sent,n&&(e.houseList=n.Items);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e="User: "+JSON.parse(localStorage.getItem("profile")).name+"\r\nMessage:";if(this.BeMsg=e,this.container=this.$refs.container,window.onresize=function(){},window.onload=function(){return function(){window.scroll({top:0,left:0,behavior:"smooth"})}()},"true"==this.msgs){var t=this;setTimeout((function(){t.$refs.messageBox.showMessage=function(e){t.showMessage(e)},window._currentMessageBox=t.$refs.messageBox}),500)}},watch:{BeMsg:function(e,t){console.log("old:"+t),this.showMessage(e)}},updated:function(){this.BeMsg=this.showMsg}},l=c,d=(n("c9d3"),n("5d22")),h=Object(d["a"])(l,s,a,!1,null,null,null);t["a"]=h.exports},af60:function(e,t,n){"use strict";var s=n("b591"),a=n("a2e9"),i=n("fedf"),r=n("abdd"),o=n("3642"),u=n("ad3e"),c=n("2b23"),l=n("9610"),d=n("af5e"),h=n("ec84"),f=n("6f6b"),v=h("isConcatSpreadable"),m=9007199254740991,p="Maximum allowed index exceeded",g=f>=51||!a((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),k=d("concat"),b=function(e){if(!r(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)},w=!g||!k;s({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,s,a,i,r=o(this),d=l(r,0),h=0;for(t=-1,s=arguments.length;t<s;t++)if(i=-1===t?r:arguments[t],b(i)){if(a=u(i.length),h+a>m)throw TypeError(p);for(n=0;n<a;n++,h++)n in i&&c(d,h,i[n])}else{if(h>=m)throw TypeError(p);c(d,h++,i)}return d.length=h,d}})},b7bd:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-cell",{staticClass:"cellAll",scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[e._v(e._s(e.title))]),n("van-field",{staticClass:"filed",attrs:{autosize:"",type:e.type,clearable:""},on:{input:e.onInput,focus:e.fieldFocus,blur:e.fieldBlur},scopedSlots:e._u([{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"scan",size:"20",color:"#4284f4"}})]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]},proxy:!0}])})},a=[],i={props:{title:{type:String,require:!1,default:"标题"},value:{require:!1,default:""},type:{type:String,require:!1,default:"textarea"}},methods:{onInput:function(e){this.value=e,this.$emit("update:value",e)},GetVal:function(){return this.value},fieldBlur:function(){window.scroll(0,this.FoucusS),window.onresize=function(){}},fieldFocus:function(){this.FoucusS=document.documentElement.scrollTop-40,window.onresize=function(){return function(){var e=document.body.clientHeight;window.scroll(0,e)}()}}}},r=i,o=(n("54ca"),n("5d22")),u=Object(o["a"])(r,s,a,!1,null,null,null);t["a"]=u.exports},c9c2:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return p}));n("6a61");var s=n("2e91"),a=n("b775"),i=n("3753");function r(e){return o.apply(this,arguments)}function o(){return o=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(i["a"])("Cobweb.SV/SVAPI/GetStationInfo",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(i["a"])("FAC/BoxApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return d=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(i["a"])("Cobweb.SV/SVAPI/GetLineInfo",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return f=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(i["a"])("FAC/StationApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return m=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(i["a"])("FAC/CellApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return g=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(i["a"])("FAC/WarehouseApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},c9d3:function(e,t,n){"use strict";n("3d62")},d8e0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA1JJREFUWAnVmEloFEEUhmdMXBKI201BCRGC4smDuJy8DooHby7oIRcxHjR4yUGPgge9iXj3mqCgIAgGQcnJBcGIIpqIRgWXuMRMFjN+v+ma1ITqruq2Y8YHf171e3+9+qfq9Ux3ioUAq1QqG6HdAOsD6CGUl5BKxWJRPtEWJWZnk4cYtoHGnNBOnf3Aa6ECl3krpScE1dSOpLUuJvSmnRTxD+DPppmbReBHemcozSKGSy9/MuNQH3rEofVy59W9wOoRs/0Suxi4RFd54sBtyrhVqm+sMabONIRJ2kh+xiB2gXFQLzaGkE6pKzLYh++ZkVp3f0sS2I+s7ZG0N/i3Dpk64lYwBQZBVisysRU0gFfgF5hr6wisjYK3CggcBTL5rL01d5HM12hoAabdhnVDNEfVftCYY5krp5yIiA5wFxy3p6LhO9flKNasHTT2wSbO55gF14CpaOFp/AZ7Pa6/RrkR11eKzZ2vsdY1a6sv1ZNOMyRncr6CHKNuxJPgMejm+nnsWtFWyv2zI44VEyXQsuBH7NNYzS/IEVdXDxjUvUD7ISD289ATutOEPK3CzVHxFUzcQYQ1gOsU0U9S7qB2T/ThY3UmCmTWJrAb5L17EqSaelBp00Wc+QQujZuYYzxxjaAejMTcxh/MSZge73aG1EojsExTvw8p6uPQdxM+jsn7jtjwajwLHAMjoByIL/A6aooEXmQSSG29G68A6p8QrIR3AqS2rAKvpl6pULiWYc6f/7WoH5aAJo6hkT7TY32iwTkF9wKkoH9fwBtjzrvEolGSujoR6ZFN6CZ5AraAFnAHwiDemN4PjNXsNgsOm8Rf+nOs+c2qoYdX88EH9NJ0lMAlixA3HEDUZiWZsxd3GphCCieZXiXOMP+mSMzvw+3S2GOHRZbIi8BnD00xiM98ZEf+kTW/z5G3Q3oNOC++ek4/2J0EuvGrFQPGtjG4El3YR3qfWLshBfoHMbwS8RdWbpLxZ3Tp5WlWDAH1gd0L2l19lbjsCMHLIM0R33MVIvaatW2BNTR7t2oSjotVCDYv+EqPR3BQnaGtzDeJ5Wbg82kE7qBYv69g3vmarw5H8Z+OWN6h0aSCiTtIbzzlWPQVtAf4PkzSOq6cHoB7WWPIlfxvYr8Bezt36+x8a5sAAAAASUVORK5CYII="}}]);