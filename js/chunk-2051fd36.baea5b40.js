(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2051fd36"],{"44b0":function(t,e,n){"use strict";n("56eb")},"521f":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.messages,expression:"messages"}],ref:"messageBox",staticClass:"lonelyMeg",attrs:{rows:"11",readonly:""},domProps:{value:t.messages},on:{input:function(e){e.target.composing||(t.messages=e.target.value)}}})},a=[],u=(n("425f"),{props:{showMsg:{type:String,require:!1,default:""}},data:function(){return{messages:"",count:0}},methods:{showMessage:function(t){if(null!=t&&""!=t&&void 0!=t){this.count>=50?(this.messages=" "+t+"\r\n",this.count=1):this.messages+=" "+t+"\r\n";var e=this;setTimeout((function(){e.$refs.messageBox.scrollTop=e.$refs.messageBox.scrollHeight})),this.count++}}},mounted:function(){var t="User: "+JSON.parse(localStorage.getItem("profile")).name;this.showMessage(t)},updated:function(){}}),c=u,i=n("5d22"),o=Object(i["a"])(c,r,a,!1,null,null,null);e["a"]=o.exports},"56eb":function(t,e,n){},"5c5a":function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"g",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return p}));n("af60"),n("cc16"),n("a8aa"),n("7d72"),n("c12e"),n("f775"),n("b66b"),n("48d1"),n("5faa"),n("ec76");function r(t){var e="",n=[];return n=t.split("*"),n.map((function(t,e){n[e]=t.trim()})),n.length>=6&&(e=n[5]),e}function a(t){var e=0,n=[];return n=t.split("*"),n.map((function(t,e){n[e]=t.trim()})),n.length>=6&&(e=Number(n[1])),e}function u(t){var e="",n=[];return n=t.split("*"),n.map((function(t,e){n[e]=t.trim()})),n.length>=6&&(e=n[0]),e}function c(t){var e=t;return-1!=t.indexOf("@")&&t.split("@").length>=2&&(e=t.split("@")[1]),e}function i(t){for(var e="",n=t.split("*"),r=0;r<n.length;r++)n[r]=n[r].trim();return n.length>=6&&(e=n[0].replace(/\+/g,"").replace(/-/g,"")),e}var o=n("31d9");function s(t,e,n,r){return"X3S"==t||"X2S"==t?(o(r).endsWith("T")||(r=n%2==1?1:2,2==r&&(n-=1)),"L".concat(e,"-").concat(n,"-").concat(r)):"L".concat(e,"-").concat(n,"-").concat(r)}function l(t,e){var n=[],r=t.split("-"),a=0;return"AX501"==e?["E"+o(r[0].replace("L","")).padLeft(2,"0").s+o(r[1]).padLeft(2,"0").s]:e.startsWith("NPM")?["POS"+o(r[1]).padLeft(3,"0").s+"$"+r[2]]:(o(r[2]).endsWith("T")?n.push("POS001$"+r[2]):(a=parseInt(r[1]),"2"==r[2]&&(n.push("POS"+o(a+"").padLeft(3,"0").s+"$2"),a+=1),n.push("POS"+o(a+"").padLeft(3,"0").s+"$1")),n)}var p={ERR_LOGINFAILED:"200-登录失败",ERR_NOTNEEDVERIFY:"301-该料站不需要验料",ERR_NOTRACKINFO:"302-请扫描料站条码",ERR_NODIVISIONINFO:"303-请选择料槽号",ERR_NOCMPINFO:"304-请扫描物料",ERR_STATIONNOTINLINE:"305-机台不属于产线",ERR_SCANCOMPONENT:"306-请扫描物料",ERR_TEARDOWNFAILED:"307-卸下出错"}},"5faa":function(t,e,n){"use strict";var r=n("b591"),a=n("f2e6").f,u=n("ad3e"),c=n("ef79"),i=n("31c4"),o=n("7518"),s=n("6e2a"),l="".startsWith,p=Math.min,f=o("startsWith"),h=!s&&!f&&!!function(){var t=a(String.prototype,"startsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(t){var e=String(i(this));c(t);var n=u(p(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return l?l.call(e,r,n):e.slice(n,n+r.length)===r}})},9073:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"p",(function(){return o})),n.d(e,"m",(function(){return l})),n.d(e,"l",(function(){return f})),n.d(e,"o",(function(){return d})),n.d(e,"n",(function(){return b})),n.d(e,"g",(function(){return y})),n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return R})),n.d(e,"s",(function(){return j})),n.d(e,"i",(function(){return P})),n.d(e,"k",(function(){return k})),n.d(e,"j",(function(){return M})),n.d(e,"h",(function(){return A})),n.d(e,"d",(function(){return C})),n.d(e,"t",(function(){return _})),n.d(e,"f",(function(){return B})),n.d(e,"q",(function(){return F})),n.d(e,"c",(function(){return W})),n.d(e,"r",(function(){return q}));n("6a61");var r=n("2e91"),a=n("b775"),u=n("3753");function c(t,e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/GetInventorys",e),{method:"POST",body:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}function o(t,e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartPartition",e),{method:"POST",body:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function l(t){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartMerger",null),{method:"POST",body:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function f(t,e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartIn",e),{method:"POST",body:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function d(t,e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartOut",e),{method:"POST",body:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(t,e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartMove",e),{method:"POST",body:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function y(t,e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("/ML/CheckInventoryApi/GetAll",e),{method:"POST",body:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function w(t){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/CheckInventoryTempContentApi/GetAll",null),{method:"POST",body:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function R(t,e){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/CheckInventoryTempContentApi/Submit",{strId:e}),{method:"POST",body:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function j(t,e,n){return I.apply(this,arguments)}function I(){return I=Object(r["a"])(regeneratorRuntime.mark((function t(e,n,r){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/CheckInventoryApi/SubmitCheckInventoryData",{checkInventoryId:e,reelId:n,remainQty:r}),{method:"POST",body:{}});case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function P(t,e){return S.apply(this,arguments)}function S(){return S=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/ChangeInventoryQty",{reelId:e,RemainQty:n}),{method:"POST",body:{}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function k(t){return L.apply(this,arguments)}function L(){return L=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartApi/GridPageListJson",null),{method:"POST",body:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function M(t){return T.apply(this,arguments)}function T(){return T=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/GetInventorys",null),{method:"POST",body:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function A(t,e,n){return N.apply(this,arguments)}function N(){return N=Object(r["a"])(regeneratorRuntime.mark((function t(e,n,r){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/ICPartBindLot",{reelId:e,lot:n,isRewrite:r}),{method:"POST",body:{}});case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}function C(t,e){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/GetInventoryWithAutoRegistory",e),{method:"POST",body:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function _(t,e){return E.apply(this,arguments)}function E(){return E=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartAutoRecommenStorage",e),{method:"POST",body:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}function B(t,e){return D.apply(this,arguments)}function D(){return D=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("/ML/LifecycleApi/GetAll",e),{method:"POST",body:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function F(t,e){return G.apply(this,arguments)}function G(){return G=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("/ML/PartInventoryApi/PrintInventoryLabel",{inventoryId:e,printerIp:n}),{method:"POST",body:{}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}function W(t){return z.apply(this,arguments)}function z(){return z=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("/ML/PartInventoryApi/CheckPrintConnection",{printerIp:e}),{method:"POST",body:{}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),z.apply(this,arguments)}function q(t,e){return J.apply(this,arguments)}function J(){return J=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/SearchInventorieCompleteds",e),{method:"POST",body:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}},a8aa:function(t,e,n){"use strict";var r=n("b591"),a=n("7b23").map,u=n("af5e"),c=n("4b7d"),i=u("map"),o=c("map");r({target:"Array",proto:!0,forced:!i||!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},b4a7:function(t,e,n){"use strict";n("c276")},bda9:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",{staticClass:"cellAll",scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[t._v(t._s(t.title))]),n("van-field",{staticClass:"filed",attrs:{clearable:"",type:t.type},on:{input:t.onInput,focus:t.fieldFocus,blur:t.fieldBlur},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"edit",size:"20",color:"#4284f4"}})]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})]},proxy:!0}])})},a=[],u={props:{title:{type:String,require:!1,default:"标题"},value:{require:!1,default:""},type:{type:String,require:!1,default:"text"}},methods:{onInput:function(t){this.value=t,this.$emit("update:value",t)},GetVal:function(){return this.value},fieldBlur:function(){window.scroll(0,this.FoucusS),window.onresize=function(){}},fieldFocus:function(){this.FoucusS=document.documentElement.scrollTop-40,window.onresize=function(){return function(){var t=document.body.clientHeight;window.scroll(0,t)}()}}}},c=u,i=(n("b4a7"),n("5d22")),o=Object(i["a"])(c,r,a,!1,null,null,null);e["a"]=o.exports},c276:function(t,e,n){},d850:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"split"}},[n("Page",{attrs:{title:t.$t("批次绑定"),msgs:"false",showPrinter:"false"}},[n("van-tabs",{staticClass:"TabHeight",attrs:{color:"#4284f4"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:t.$t("操作")}},[n("MessageBox",{ref:"messageBox",staticClass:"lonelyMeg"}),n("ScanInput",{ref:"inputReelId",attrs:{label:t.$t("物料条码")},on:{submit:t.m_scanner_OnScannerReaded}}),n("InputEditCell",{attrs:{title:t.$t("批次号"),value:t.BathcNo},on:{"update:value":function(e){t.BathcNo=e}}}),n("van-field",{staticClass:"filed",attrs:{name:"switch","label-width":"80vw",label:t.$t("是否覆盖")},scopedSlots:t._u([{key:"input",fn:function(){return[n("van-switch",{attrs:{size:"20"},model:{value:t.rewrite,callback:function(e){t.rewrite=e},expression:"rewrite"}})]},proxy:!0}])}),n("van-button",{staticClass:"BtnButton",attrs:{type:"info"},on:{click:t.PartOut}},[t._v(t._s(t.$t("确认")))])],1),n("van-tab",{attrs:{title:t.$t("记录")}},[n("van-field",{attrs:{center:"",clearable:"",placeholder:t.$t("请输入批次号")},scopedSlots:t._u([{key:"button",fn:function(){return[n("van-button",{attrs:{size:"small",type:"primary"}},[n("van-icon",{attrs:{name:"search"},on:{click:t.serchLog}})],1)]},proxy:!0}]),model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}}),n("el-table",{attrs:{data:t.Lifecycle,"highlight-current-row":"",size:"mini"}},[n("el-table-column",{attrs:{prop:"PartNumber",label:t.$t("物料号"),"min-width":"30%"}}),n("el-table-column",{attrs:{prop:"ReelId",label:t.$t("ReelID"),"min-width":"30%"}}),n("el-table-column",{attrs:{prop:"Remark",label:t.$t("批次号"),"min-width":"30%"}})],1)],1)],1)],1)],1)},a=[],u=(n("8601"),n("cc16"),n("ec76"),n("85a2"),n("6a61"),n("2e91")),c=n("9973"),i=n("521f"),o=n("6168"),s=n("bda9"),l=n("5c5a"),p=n("9073"),f={components:{Page:c["a"],MessageBox:i["a"],ScanInput:o["a"],InputEditCell:s["a"]},data:function(){return{barcode:"",lot:"",rewrite:!1,Lifecycle:[],active:0,BathcNo:"",sms:""}},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["f"](null,{LifecycleType:7,CreatedTimeFrom:new Date(Date.now()-864e5),CreatedTimeTo:new Date(Date.now()+864e5)});case 2:n=e.sent,n&&(t.Lifecycle=n.Items);case 4:case"end":return e.stop()}}),e)})))()},methods:{showMessage:function(t){this.$refs.messageBox.showMessage(t)},m_scanner_OnScannerReaded:function(t){t&&(-1==t.indexOf("*")||(t=Object(l["f"])(t),t)?this.barcode?(this.BathcNo=this.barcode,this.showMessage("Product batch: "+this.barcode)):(this.barcode=t.trim(),this.showMessage("ReelID: "+this.barcode)):this.showMessage(this.$t("条码格式不正确")))},PartOut:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.barcode){e.next=3;break}return t.showMessage(t.$t("请扫描料盘条码ReelID!")),e.abrupt("return");case 3:if(t.lot=t.BathcNo,console.log(t.lot),t.lot){e.next=8;break}return t.showMessage(t.$t("请输入批次号")),e.abrupt("return");case 8:if(!t.barcode||!t.lot){e.next=23;break}return e.prev=9,e.next=12,p["h"](t.barcode,t.lot,t.rewrite);case 12:n=e.sent,n&&(r=t.$t("Product Batch:"+t.lot),r+="\r\n"+t.$t("Result:Operation success!"),t.showMessage(r),t.$refs.inputReelId.clearInput(),t.BathcNo="",console.log(n),t.Lifecycle.push({PartNumber:n.PartNumber,ReelId:n.ReelId,Remark:t.lot})),t.barcode="",t.remainNum="",t.lot="",e.next=23;break;case 19:return e.prev=19,e.t0=e["catch"](9),t.showMessage(e.t0),e.abrupt("return");case 23:case"end":return e.stop()}}),e,null,[[9,19]])})))()},serchLog:function(){var t=this,e=[];this.Lifecycle.forEach((function(n,r){n.Remark==t.sms&&(console.log(r),e.push(n))})),this.Lifecycle=e}}},h=f,d=(n("44b0"),n("5d22")),m=Object(d["a"])(h,r,a,!1,null,null,null);e["default"]=m.exports}}]);