(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ad0b260"],{"44b0":function(e,t,n){"use strict";n("56eb")},"521f":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messages,expression:"messages"}],ref:"messageBox",staticClass:"lonelyMeg",attrs:{rows:"11",readonly:""},domProps:{value:e.messages},on:{input:function(t){t.target.composing||(e.messages=t.target.value)}}})},a=[],u=(n("82a8"),{props:{showMsg:{type:String,require:!1,default:""}},data:function(){return{messages:"",count:0}},methods:{showMessage:function(e){if(null!=e&&""!=e&&void 0!=e){this.count>=50?(this.messages=" "+e+"\r\n",this.count=1):this.messages+=" "+e+"\r\n";var t=this;setTimeout((function(){t.$refs.messageBox.scrollTop=t.$refs.messageBox.scrollHeight})),this.count++}}},mounted:function(){var e="User: "+JSON.parse(localStorage.getItem("profile")).name;this.showMessage(e)},updated:function(){}}),i=u,c=n("5d22"),o=Object(c["a"])(i,r,a,!1,null,null,null);t["a"]=o.exports},"56eb":function(e,t,n){},"5c5a":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));n("4914"),n("95e8"),n("b34d"),n("a5bc"),n("b6b5"),n("0482"),n("31d6"),n("f845"),n("247c");function r(e){var t="",n=[];return n=e.split("/"),n.map((function(e,t){n[t]=e.trim()})),n.length>=6&&(-1!=n[5].indexOf("X")&&(n[5]=n[5].replace("X","")),t=n[5]),t}function a(e){var t=0,n=[];if(n=e.split("/"),n.map((function(e,t){n[t]=e.trim()})),n.length>=6){var r=n[2];-1!=r.indexOf("Q")&&(r=r.replace("Q","")),t=Number(r)}return t}function u(e){var t="",n=[];return n=e.split("*"),n.map((function(e,t){n[t]=e.trim()})),n.length>=6&&(-1!=n[1].indexOf("3OS")&&(n[1]=n[1].replace("3OS","")),t=n[1]),t}function i(e){for(var t="",n=e.split("*"),r=0;r<n.length;r++)n[r]=n[r].trim();return n.length>=6&&(t=n[0].replace(/\+/g,"").replace(/-/g,"")),t}var c=n("31d9");function o(e,t,n,r){return"X3S"==e||"X2S"==e?(c(r).endsWith("T")||(r=n%2==1?1:2,2==r&&(n-=1)),"L".concat(t,"-").concat(n,"-").concat(r)):"L".concat(t,"-").concat(n,"-").concat(r)}function s(e,t){var n=[],r=e.split("-"),a=0;return"AX501"==t?["E"+c(r[0].replace("L","")).padLeft(2,"0").s+c(r[1]).padLeft(2,"0").s]:t.startsWith("NPM")?["POS"+c(r[1]).padLeft(3,"0").s+"$"+r[2]]:(c(r[2]).endsWith("T")?n.push("POS001$"+r[2]):(a=parseInt(r[1]),"2"==r[2]&&(n.push("POS"+c(a+"").padLeft(3,"0").s+"$2"),a+=1),n.push("POS"+c(a+"").padLeft(3,"0").s+"$1")),n)}var l={ERR_LOGINFAILED:"200-登录失败",ERR_NOTNEEDVERIFY:"301-该料站不需要验料",ERR_NOTRACKINFO:"302-请扫描料站条码",ERR_NODIVISIONINFO:"303-请选择料槽号",ERR_NOCMPINFO:"304-请扫描物料",ERR_STATIONNOTINLINE:"305-机台不属于产线",ERR_SCANCOMPONENT:"306-请扫描物料",ERR_TEARDOWNFAILED:"307-卸下出错"}},9073:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"p",(function(){return o})),n.d(t,"m",(function(){return l})),n.d(t,"l",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"n",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return R})),n.d(t,"s",(function(){return j})),n.d(t,"i",(function(){return P})),n.d(t,"k",(function(){return k})),n.d(t,"j",(function(){return M})),n.d(t,"h",(function(){return A})),n.d(t,"d",(function(){return C})),n.d(t,"t",(function(){return _})),n.d(t,"f",(function(){return B})),n.d(t,"q",(function(){return F})),n.d(t,"c",(function(){return W})),n.d(t,"r",(function(){return q}));n("6a61");var r=n("9ad1"),a=n("b775"),u=n("3753");function i(e,t){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/GetInventorys",t),{method:"POST",body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e,t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartPartition",t),{method:"POST",body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartMerger",null),{method:"POST",body:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartIn",t),{method:"POST",body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartOut",t),{method:"POST",body:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartMove",t),{method:"POST",body:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function y(e,t){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("/ML/CheckInventoryApi/GetAll",t),{method:"POST",body:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function O(e){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/CheckInventoryTempContentApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function R(e,t){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/CheckInventoryTempContentApi/Submit",{strId:t}),{method:"POST",body:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function j(e,t,n){return I.apply(this,arguments)}function I(){return I=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/CheckInventoryApi/SubmitCheckInventoryData",{checkInventoryId:t,reelId:n,remainQty:r}),{method:"POST",body:{}});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function P(e,t){return S.apply(this,arguments)}function S(){return S=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/ChangeInventoryQty",{reelId:t,RemainQty:n}),{method:"POST",body:{}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function k(e){return L.apply(this,arguments)}function L(){return L=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartApi/GridPageListJson",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function M(e){return T.apply(this,arguments)}function T(){return T=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/GetInventorys",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function A(e,t,n){return N.apply(this,arguments)}function N(){return N=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/ICPartBindLot",{reelId:t,lot:n,isRewrite:r}),{method:"POST",body:{}});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function C(e,t){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/GetInventoryWithAutoRegistory",t),{method:"POST",body:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function _(e,t){return E.apply(this,arguments)}function E(){return E=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/PartAutoRecommenStorage",t),{method:"POST",body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function B(e,t){return D.apply(this,arguments)}function D(){return D=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("/ML/LifecycleApi/GetAll",t),{method:"POST",body:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function F(e,t){return G.apply(this,arguments)}function G(){return G=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("/ML/PartInventoryApi/PrintInventoryLabel",{inventoryId:t,printerIp:n}),{method:"POST",body:{}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function W(e){return z.apply(this,arguments)}function z(){return z=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("/ML/PartInventoryApi/CheckPrintConnection",{printerIp:t}),{method:"POST",body:{}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function q(e,t){return Q.apply(this,arguments)}function Q(){return Q=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(Object(u["a"])("ML/PartInventoryApi/SearchInventorieCompleteds",t),{method:"POST",body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}},"95e8":function(e,t,n){"use strict";var r=n("4292"),a=n("0a86").map,u=n("b9d5"),i=u("map");r({target:"Array",proto:!0,forced:!i},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},b4a7:function(e,t,n){"use strict";n("c276")},bda9:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-cell",{staticClass:"cellAll",scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"custom-title"},[e._v(e._s(e.title))]),n("van-field",{staticClass:"filed",attrs:{clearable:"",type:e.type},on:{input:e.onInput,focus:e.fieldFocus,blur:e.fieldBlur},scopedSlots:e._u([{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"edit",size:"20",color:"#4284f4"}})]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]},proxy:!0}])})},a=[],u={props:{title:{type:String,require:!1,default:"标题"},value:{require:!1,default:""},type:{type:String,require:!1,default:"text"}},methods:{onInput:function(e){this.value=e,this.$emit("update:value",e)},GetVal:function(){return this.value},fieldBlur:function(){window.scroll(0,this.FoucusS),window.onresize=function(){}},fieldFocus:function(){this.FoucusS=document.documentElement.scrollTop-40,window.onresize=function(){return function(){var e=document.body.clientHeight;window.scroll(0,e)}()}}}},i=u,c=(n("b4a7"),n("5d22")),o=Object(c["a"])(i,r,a,!1,null,null,null);t["a"]=o.exports},c276:function(e,t,n){},d850:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"split"}},[n("Page",{attrs:{title:e.$t("批次绑定"),msgs:"false",showPrinter:"false"}},[n("van-tabs",{staticClass:"TabHeight",attrs:{color:"#4284f4"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tab",{attrs:{title:e.$t("操作")}},[n("MessageBox",{ref:"messageBox",staticClass:"lonelyMeg"}),n("ScanInput",{ref:"inputReelId",attrs:{label:e.$t("物料条码")},on:{submit:e.m_scanner_OnScannerReaded}}),n("InputEditCell",{attrs:{title:e.$t("批次号"),value:e.BathcNo},on:{"update:value":function(t){e.BathcNo=t}}}),n("van-field",{staticClass:"filed",attrs:{name:"switch","label-width":"80vw",label:e.$t("是否覆盖")},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-switch",{attrs:{size:"20"},model:{value:e.rewrite,callback:function(t){e.rewrite=t},expression:"rewrite"}})]},proxy:!0}])}),n("van-button",{staticClass:"BtnButton",attrs:{type:"info"},on:{click:e.PartOut}},[e._v(e._s(e.$t("确认")))])],1),n("van-tab",{attrs:{title:e.$t("记录")}},[n("van-field",{attrs:{center:"",clearable:"",placeholder:e.$t("请输入批次号")},scopedSlots:e._u([{key:"button",fn:function(){return[n("van-button",{attrs:{size:"small",type:"primary"}},[n("van-icon",{attrs:{name:"search"},on:{click:e.serchLog}})],1)]},proxy:!0}]),model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}}),n("el-table",{attrs:{data:e.Lifecycle,"highlight-current-row":"",size:"mini"}},[n("el-table-column",{attrs:{prop:"PartNumber",label:e.$t("物料号"),"min-width":"30%"}}),n("el-table-column",{attrs:{prop:"ReelId",label:e.$t("ReelID"),"min-width":"30%"}}),n("el-table-column",{attrs:{prop:"Remark",label:e.$t("批次号"),"min-width":"30%"}})],1)],1)],1)],1)],1)},a=[],u=(n("247c"),n("96f8"),n("6a61"),n("9ad1")),i=n("9973"),c=n("521f"),o=n("6168"),s=n("bda9"),l=n("5c5a"),p=n("9073"),f={components:{Page:i["a"],MessageBox:c["a"],ScanInput:o["a"],InputEditCell:s["a"]},data:function(){return{barcode:"",lot:"",rewrite:!1,Lifecycle:[],active:0,BathcNo:"",sms:""}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["f"](null,{LifecycleType:7,CreatedTimeFrom:new Date(Date.now()-864e5),CreatedTimeTo:new Date(Date.now()+864e5)});case 2:n=t.sent,n&&(e.Lifecycle=n.Items);case 4:case"end":return t.stop()}}),t)})))()},methods:{showMessage:function(e){this.$refs.messageBox.showMessage(e)},m_scanner_OnScannerReaded:function(e){e&&(-1==e.indexOf("*")||(e=Object(l["e"])(e),e)?this.barcode?(this.BathcNo=this.barcode,this.showMessage("Product batch: "+this.barcode)):(this.barcode=e.trim(),this.showMessage("ReelID: "+this.barcode)):this.showMessage(this.$t("条码格式不正确")))},PartOut:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.barcode){t.next=3;break}return e.showMessage(e.$t("请扫描料盘条码ReelID!")),t.abrupt("return");case 3:if(e.lot=e.BathcNo,console.log(e.lot),e.lot){t.next=8;break}return e.showMessage(e.$t("请输入批次号")),t.abrupt("return");case 8:if(!e.barcode||!e.lot){t.next=23;break}return t.prev=9,t.next=12,p["h"](e.barcode,e.lot,e.rewrite);case 12:n=t.sent,n&&(r=e.$t("Product Batch:"+e.lot),r+="\r\n"+e.$t("Result:Operation success!"),e.showMessage(r),e.$refs.inputReelId.clearInput(),e.BathcNo="",console.log(n),e.Lifecycle.push({PartNumber:n.PartNumber,ReelId:n.ReelId,Remark:e.lot})),e.barcode="",e.remainNum="",e.lot="",t.next=23;break;case 19:return t.prev=19,t.t0=t["catch"](9),e.showMessage(t.t0),t.abrupt("return");case 23:case"end":return t.stop()}}),t,null,[[9,19]])})))()},serchLog:function(){var e=this,t=[];this.Lifecycle.forEach((function(n,r){n.Remark==e.sms&&(console.log(r),t.push(n))})),this.Lifecycle=t}}},h=f,d=(n("44b0"),n("5d22")),m=Object(d["a"])(h,r,a,!1,null,null,null);t["default"]=m.exports},f845:function(e,t,n){"use strict";var r=n("4292"),a=n("016e").f,u=n("2730"),i=n("6ff7"),c=n("11a1"),o=n("8531"),s=n("0fee"),l="".startsWith,p=Math.min,f=o("startsWith"),h=!s&&!f&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(e){var t=String(c(this));i(e);var n=u(p(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})}}]);