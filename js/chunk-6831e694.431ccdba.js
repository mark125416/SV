(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6831e694"],{"2c1a":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));n("6a61");var r=n("2e91"),i=n("b775"),s=n("3753");function a(){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("Foundation/VersionApi/GetPDAVersion",null),{method:"POST",body:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("Cobweb.SV/SVAPI/LoadUserFunctions",{strModuleCode:t}),{method:"POST",body:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("Foundation/DataDictionaryApi/GetAll",null),{method:"POST",body:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}},"2c89":function(e,t,n){"use strict";n("7711")},3753:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("ec46"),n("4507"),n("1475"),n("bc4a"),n("4460"),n("960e");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=function e(t,n,i){if(null==t)return"";var s="",a=r(t);if("string"==a||"number"==a||"boolean"==a)s+="&"+n+"="+(null==i||i?encodeURIComponent(t):t);else for(var o in t){var c=null==n?o:n+(t instanceof Array?"["+o+"]":"."+o);s+=e(t[o],c,i)}return s};function s(e,t){return t&&(e+="?"+i(t)),e}},"3d62":function(e,t,n){},7711:function(e,t,n){},9973:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",class:"true"==e.msgs?"page-view":"page-viewN",attrs:{id:"page"}},[n("van-sticky",{attrs:{container:e.container,"offset-top":e.offsetTop}},[n("div",{staticClass:"navBox"},[n("van-nav-bar",{class:"true"==e.msgs?"navBarBox":"navBarBoxN",attrs:{title:e.title,id:"navBarBox"},on:{"click-left":e.onBack},scopedSlots:e._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"arrow-left",size:"18",color:"true"==e.msgs?"#fff":"#000000"}}),n("span",{class:"true"==e.msgs?"navBarLefttitle":"navBarLefttitleN"},[e._v(e._s(e.$t("返回")))])]},proxy:!0},"true"===e.showPrinter||"true"===e.showSetting?{key:"right",fn:function(){return["true"==e.showPrinter?n("img",{attrs:{src:e.PringterImg,width:"20"},on:{click:e.ToPrinter}}):e._e(),"true"==e.showSettingF?n("van-icon",{attrs:{name:"setting-o",size:"20",color:"white"},on:{click:e.SetUpFF}}):e._e(),"true"==e.showSettingT?n("van-icon",{attrs:{name:"setting-o",size:"20",color:"white"},on:{click:e.SetUpTT}}):e._e()]},proxy:!0}:null],null,!0)}),"true"==e.msgs?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messages,expression:"messages"}],ref:"messageBox",staticClass:"message-box",attrs:{rows:"11",readonly:""},domProps:{value:e.messages},on:{input:function(t){t.target.composing||(e.messages=t.target.value)}}}):e._e()],1)]),e._t("default"),n("van-overlay",{attrs:{show:e.printerConfig},on:{click:function(t){e.printerConfig=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"addressBox",attrs:{id:"addressBox"}},[n("h2",[e._v(e._s(e.$t("打印机配置")))]),n("div",[n("p",[e._v("IP Address")]),n("div",{staticClass:"address"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.address01,expression:"address01"}],domProps:{value:e.address01},on:{keyup:e.address01cahnge,input:function(t){t.target.composing||(e.address01=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address02,expression:"address02"}],ref:"address02",domProps:{value:e.address02},on:{keyup:e.address02cahnge,input:function(t){t.target.composing||(e.address02=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address03,expression:"address03"}],ref:"address03",domProps:{value:e.address03},on:{keyup:e.address03cahnge,input:function(t){t.target.composing||(e.address03=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.address04,expression:"address04"}],ref:"address04",domProps:{value:e.address04},on:{keyup:e.address04cahnge,input:function(t){t.target.composing||(e.address04=t.target.value)}}})])]),n("van-button",{attrs:{type:"info"},on:{click:e.saveaddress}},[e._v(e._s(e.$t("保存")))])],1)])]),n("van-overlay",{attrs:{show:e.SetUpF},on:{click:function(t){e.SetUpF=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"addressBox",attrs:{id:"addressBox"}},[n("h2",[e._v(e._s(e.$t("设置")))]),n("div",[n("p",[e._v(e._s(e.$t("选择仓库")))]),n("div",{staticClass:"address"},e._l(e.houseList,(function(t,r){return n("div",{key:r,class:e.BeClickHouseIndex==r?"houseBeClick":"house",on:{click:function(t){return e.houseChoose(r)}}},[e._v(e._s(t.WarehouseName))])})),0)]),n("van-button",{attrs:{type:"info"},on:{click:e.Selectwarehouse}},[e._v(e._s(e.$t("保存")))])],1)])]),n("van-overlay",{attrs:{show:e.SetUpT},on:{click:function(t){e.SetUpT=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"addressBox",attrs:{id:"addressBox"}},[n("h2",[e._v(e._s(e.$t("设置")))]),n("div",[n("p",[e._v(e._s(e.$t("提交WMS")))]),n("div",{staticClass:"address"},[n("div",{class:0==e.BeClickWMSIndex?"WMSBeClick":"WMS",on:{click:function(t){return e.SMTWMSChoose(0)}}},[e._v(e._s(e.$t("是")))]),n("div",{class:1==e.BeClickWMSIndex?"WMSBeClick":"WMS",on:{click:function(t){return e.SMTWMSChoose(1)}}},[e._v(e._s(e.$t("否")))])])]),n("van-button",{attrs:{type:"info"},on:{click:e.SelectWMS}},[e._v(e._s(e.$t("保存")))])],1)])])],2)},i=[],s=(n("af60"),n("425f"),n("c12e"),n("48d1"),n("6a61"),n("2e91")),a=n("d211"),o=n("cf6b"),c=n("c9c2"),u={components:{},props:{title:{type:String,require:!1,default:"标题"},clearIcon:{type:Boolean,require:!1,default:!0},rightText:{type:String,require:!1,default:""},rightClick:{type:Function,require:!1},leftText:{type:String,require:!1,default:"返回"},leftClick:{type:Function,require:!1},clearClick:{type:Function,require:!1},notice:{type:Boolean,require:!1,default:!0},msgs:{type:String,require:!0,default:""},showMsg:{type:String,require:!0,default:""},showPrinter:{type:String,require:!1,default:"false"},showSetting:{type:String,require:!1,default:"false"},showSettingF:{type:String,require:!1,default:"false"},showSettingT:{type:String,require:!1,default:"false"},WMSType:{type:String,require:!1,default:""}},data:function(){return{active:1,BeMsg:"",PringterImg:n("d8e0"),printerConfig:!1,SetUpF:!1,SetUpT:!1,address01:"",address02:"",address03:"",address04:"",container:null,offsetTop:0,houseList:[],BeClickHouse:"",BeClickHouseIndex:-1,BeClickWMS:"",BeClickWMSIndex:-1,messages:"",count:0}},computed:Object(a["a"])({},Object(o["d"])(["error"])),methods:{ToPrinter:function(){this.$router.push({name:"printer"})},SMTWMSChoose:function(e){this.BeClickWMSIndex=e,this.BeClickWMS=1!=e},SelectWMS:function(){console.log(this.WMSType),this.SetUpT=!1,localStorage.setItem("".concat(this.WMSType,"-WMS"),this.BeClickWMS)},houseChoose:function(e){this.BeClickHouseIndex=e,this.BeClickHouse=this.houseList[e].WarehouseName},Selectwarehouse:function(){this.SetUpF=!1,sessionStorage.setItem("CurrentWarehouseId",this.houseList[this.BeClickHouseIndex].Id)},SetUpFF:function(){this.SetUpF=!0},SetUpTT:function(){this.SetUpT=!0},onBack:function(e){"返回"===this.leftText?this.$router.back():this.$emit("leftClick",e)},onShowErrors:function(){this.$router.push("/errors?"+window.location.href.split("#")[1].substring(1))},onRightClick:function(e){this.$emit("rightClick",e)},onNoticeClick:function(){this.$router.push("/errors?"+window.location.href.split("#")[1].substring(1))},onClearClick:function(e){this.$emit("clearClick",e)},showMessage:function(e){if(null!=e&&""!=e&&void 0!=e){this.count>=50?(this.messages=e+"\r\n",this.count=1):this.messages+=e+"\r\n";var t=this;setTimeout((function(){t.$refs.messageBox&&(t.$refs.messageBox.scrollTop=t.$refs.messageBox.scrollHeight)})),this.count++}},saveaddress:function(){var e="".concat(this.address01,".").concat(this.address02,".").concat(this.address03,".").concat(this.address04);console.log(e),this.printerConfig=!1},address01cahnge:function(e){this.address01.length>=3?this.$refs.address02.focus():this.address01=e.target.value},address02cahnge:function(e){this.address02.length>=3?this.$refs.address03.focus():this.address02=e.target.value},address03cahnge:function(e){this.address03.length>=3?this.$refs.address04.focus():this.address03=e.target.value},address04cahnge:function(e){this.address04.length>=3?this.$refs.address04.blur():this.address04=e.target.value},LoadWarehouse:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["e"]({WarehouseType:2});case 2:n=t.sent,n&&(e.houseList=n.Items);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e="User: "+JSON.parse(localStorage.getItem("profile")).name+"\r\nMessage:";if(this.BeMsg=e,this.container=this.$refs.container,window.onresize=function(){},window.onload=function(){return function(){window.scroll({top:0,left:0,behavior:"smooth"})}()},"true"==this.msgs){var t=this;setTimeout((function(){t.$refs.messageBox.showMessage=function(e){t.showMessage(e)},window._currentMessageBox=t.$refs.messageBox}),500)}},watch:{BeMsg:function(e,t){console.log("old:"+t),this.showMessage(e)}},updated:function(){this.BeMsg=this.showMsg}},l=u,d=(n("c9d3"),n("5d22")),p=Object(d["a"])(l,r,i,!1,null,null,null);t["a"]=p.exports},a8aa:function(e,t,n){"use strict";var r=n("b591"),i=n("7b23").map,s=n("af5e"),a=n("4b7d"),o=s("map"),c=a("map");r({target:"Array",proto:!0,forced:!o||!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},af60:function(e,t,n){"use strict";var r=n("b591"),i=n("a2e9"),s=n("fedf"),a=n("abdd"),o=n("3642"),c=n("ad3e"),u=n("2b23"),l=n("9610"),d=n("af5e"),p=n("ec84"),f=n("6f6b"),h=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),b=d("concat"),y=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:s(e)},S=!g||!b;r({target:"Array",proto:!0,forced:S},{concat:function(e){var t,n,r,i,s,a=o(this),d=l(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(s=-1===t?a:arguments[t],y(s)){if(i=c(s.length),p+i>m)throw TypeError(v);for(n=0;n<i;n++,p++)n in s&&u(d,p,s[n])}else{if(p>=m)throw TypeError(v);u(d,p++,s)}return d.length=p,d}})},c9c2:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return v}));n("6a61");var r=n("2e91"),i=n("b775"),s=n("3753");function a(e){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("Cobweb.SV/SVAPI/GetStationInfo",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("FAC/BoxApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("Cobweb.SV/SVAPI/GetLineInfo",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("FAC/StationApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("FAC/CellApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])("FAC/WarehouseApi/GetAll",null),{method:"POST",body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},c9d3:function(e,t,n){"use strict";n("3d62")},d8e0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA1JJREFUWAnVmEloFEEUhmdMXBKI201BCRGC4smDuJy8DooHby7oIRcxHjR4yUGPgge9iXj3mqCgIAgGQcnJBcGIIpqIRgWXuMRMFjN+v+ma1ITqruq2Y8YHf171e3+9+qfq9Ux3ioUAq1QqG6HdAOsD6CGUl5BKxWJRPtEWJWZnk4cYtoHGnNBOnf3Aa6ECl3krpScE1dSOpLUuJvSmnRTxD+DPppmbReBHemcozSKGSy9/MuNQH3rEofVy59W9wOoRs/0Suxi4RFd54sBtyrhVqm+sMabONIRJ2kh+xiB2gXFQLzaGkE6pKzLYh++ZkVp3f0sS2I+s7ZG0N/i3Dpk64lYwBQZBVisysRU0gFfgF5hr6wisjYK3CggcBTL5rL01d5HM12hoAabdhnVDNEfVftCYY5krp5yIiA5wFxy3p6LhO9flKNasHTT2wSbO55gF14CpaOFp/AZ7Pa6/RrkR11eKzZ2vsdY1a6sv1ZNOMyRncr6CHKNuxJPgMejm+nnsWtFWyv2zI44VEyXQsuBH7NNYzS/IEVdXDxjUvUD7ISD289ATutOEPK3CzVHxFUzcQYQ1gOsU0U9S7qB2T/ThY3UmCmTWJrAb5L17EqSaelBp00Wc+QQujZuYYzxxjaAejMTcxh/MSZge73aG1EojsExTvw8p6uPQdxM+jsn7jtjwajwLHAMjoByIL/A6aooEXmQSSG29G68A6p8QrIR3AqS2rAKvpl6pULiWYc6f/7WoH5aAJo6hkT7TY32iwTkF9wKkoH9fwBtjzrvEolGSujoR6ZFN6CZ5AraAFnAHwiDemN4PjNXsNgsOm8Rf+nOs+c2qoYdX88EH9NJ0lMAlixA3HEDUZiWZsxd3GphCCieZXiXOMP+mSMzvw+3S2GOHRZbIi8BnD00xiM98ZEf+kTW/z5G3Q3oNOC++ek4/2J0EuvGrFQPGtjG4El3YR3qfWLshBfoHMbwS8RdWbpLxZ3Tp5WlWDAH1gd0L2l19lbjsCMHLIM0R33MVIvaatW2BNTR7t2oSjotVCDYv+EqPR3BQnaGtzDeJ5Wbg82kE7qBYv69g3vmarw5H8Z+OWN6h0aSCiTtIbzzlWPQVtAf4PkzSOq6cHoB7WWPIlfxvYr8Bezt36+x8a5sAAAAASUVORK5CYII="},ef7b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:e.$t("打印机设置"),clearIcon:!1,notice:!1,rightText:e.$t("添加打印机"),leftText:e.$t("返回")},on:{rightClick:e.addWifiPrinter,leftClick:e.onBack}},[n("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.addWifiPrinter}},[e._v(e._s(e.$t("添加打印机")))]),n("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.loadServerWifiPrinter}},[e._v(e._s(e.$t("加载服务器打印机配置")))]),e._l(e.printers,(function(t,r){return n("van-swipe-cell",{key:r,scopedSlots:e._u([{key:"left",fn:function(){return[n("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"info",text:e.$t("修改")},on:{click:function(n){return e.modify(t)}}})]},proxy:!0},{key:"right",fn:function(){return[n("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"primary",text:e.$t("设为默认")},on:{click:function(n){return e.setActive(t.name)}}}),n("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"danger",text:e.$t("删除")},on:{click:function(n){return e.delePrinter(t.name)}}})]},proxy:!0}],null,!0)},[n("van-panel",{staticClass:"printer-device",attrs:{title:t.name+"_"+t.ip,desc:t.type,status:t.active?e.$t("默认"):""}})],1)})),n("van-dialog",{attrs:{title:e.$t("添加打印机"),"confirm-button-text":this.$t("确认"),"cancel-button-text":this.$t("取消"),"show-cancel-button":"",beforeClose:e.beforeClose},model:{value:e.addShow,callback:function(t){e.addShow=t},expression:"addShow"}},[n("div",{staticStyle:{padding:"15px 25px"}},[n("van-field",{attrs:{required:"",label:e.$t("名称"),colon:!0,"label-width":"60px"},model:{value:e.printerItem.name,callback:function(t){e.$set(e.printerItem,"name",t)},expression:"printerItem.name"}}),n("van-field",{attrs:{required:"",label:"IP",colon:!0,"label-width":"60px"},model:{value:e.printerItem.ip,callback:function(t){e.$set(e.printerItem,"ip",t)},expression:"printerItem.ip"}}),n("van-field",{attrs:{required:"",label:e.$t("类型"),colon:!0,"label-width":"60px",readonly:""},on:{focus:e.selectTypeShow},model:{value:e.printerItem.type,callback:function(t){e.$set(e.printerItem,"type",t)},expression:"printerItem.type"}}),n("van-field",{attrs:{label:e.$t("是否默认"),colon:!0}},[n("template",{slot:"input"},[n("van-switch",{attrs:{size:"24px"},model:{value:e.printerItem.active,callback:function(t){e.$set(e.printerItem,"active",t)},expression:"printerItem.active"}})],1)],2)],1)]),n("van-action-sheet",{attrs:{actions:e.printerTypes},on:{select:e.onSelect},model:{value:e.typeShow,callback:function(t){e.typeShow=t},expression:"typeShow"}})],2)},i=[],s=(n("a66e"),n("8601"),n("a8aa"),n("3cb3"),n("425f"),n("d319"),n("85a2"),n("ec46"),n("4507"),n("1475"),n("bc4a"),n("4460"),n("960e"),n("69a9"));function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(s["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}}}n("6a61");var o=n("2e91"),c=(n("dbc0"),n("d697")),u=n("d211"),l=n("cf6b"),d=n("2c1a"),p=n("9973"),f={name:"WiFiPrinterPage",components:{Page:p["a"]},computed:Object(u["a"])({},Object(l["d"])({printers:"printer/printers"})),data:function(){return{addShow:!1,typeShow:!1,edite:!1,printerTypes:[{name:"Zicox"},{name:"Zebra"}],printerItem:{name:"",ip:"",type:"",active:!1}}},created:function(){console.log(this.printers),console.log(this.$store.state["printer"]["printers"])},methods:Object(u["a"])(Object(u["a"])({},Object(l["c"])({setPrinters:"printer/setPrinters"})),{},{selectTypeShow:function(){this.typeShow=!0},onSelect:function(e){this.typeShow=!1,this.printerItem.type=e.name},isValidIP:function(e){var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return t.test(e)},modify:function(e){this.printerItem=JSON.parse(JSON.stringify(e)),this.addShow=!0,this.edite=!0},setActive:function(e){for(var t=this.printers.findIndex((function(t){return t.name==e})),n=0;n<this.printers.length;n++)this.printers[n].active=n===t;this.setPrinters(this.printers)},delePrinter:function(e){var t=this.printers.findIndex((function(t){return t.name==e}));-1!==t&&(this.printers.splice(t,1),this.setPrinters(this.printers))},savePrinter:function(){var e=this;console.log(this.printers);var t=this.printers.findIndex((function(t){return t.name==e.printerItem.name}));return-1===t?(!0===this.printerItem.active&&this.printers.map((function(e){e.active=!1})),this.printers.push(this.printerItem),this.setPrinters(this.printers),!0):this.edite?(!0===this.printerItem.active&&this.printers.map((function(e){e.active=!1})),this.printers.splice(t,1,this.printerItem),this.setPrinters(this.printers),this.edite=!1,!0):(c["a"].fail(this.$t("名称已存在")),!1)},beforeClose:function(e,t){var n=this;if("cancel"===e)this.printerItem={name:"",ip:"",type:"",active:!1},t();else{var r=Object.keys(this.printerItem),i=!1;r.forEach((function(e){null===n.printerItem[e]|""===n.printerItem[e]&&(i=!0)})),i&&(t(!1),c["a"].fail(this.$t("请填写完整信息")));var s=this.isValidIP(this.printerItem.ip);if(s){var a=this.savePrinter();a?(this.printerItem={name:"",ip:"",type:"",active:!1},t()):t(!1)}else t(!1),c["a"].fail(this.$t("ip地址格式不正确"))}},onBack:function(){this.$router.back()},addWifiPrinter:function(){this.addShow=!0,this.printerItem.type="Zicox"},loadServerWifiPrinter:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["a"]({Code:"WifiPrinterConfig"});case 2:if(n=t.sent,n&&n.Items&&n.Items.length>0){r=JSON.parse(n.Items[0].ValueData),i=a(r);try{for(i.s();!(s=i.n()).done;)o=s.value,o.active=!1,e.printerItem=o,e.edite=!0,e.savePrinter(),e.edite=!1}catch(c){i.e(c)}finally{i.f()}e.printerItem={name:"",ip:"",type:"",active:!1}}case 4:case"end":return t.stop()}}),t)})))()}})},h=f,m=(n("2c89"),n("5d22")),v=Object(m["a"])(h,r,i,!1,null,null,null);t["default"]=v.exports}}]);